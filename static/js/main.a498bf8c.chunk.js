(this["webpackJsonpplaying-card"]=this["webpackJsonpplaying-card"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){var n={"./10C.png":48,"./10D.png":49,"./10H.png":50,"./10S.png":51,"./2C.png":52,"./2D.png":53,"./2H.png":54,"./2S.png":55,"./3C.png":56,"./3D.png":57,"./3H.png":58,"./3S.png":59,"./4C.png":60,"./4D.png":61,"./4H.png":62,"./4S.png":63,"./5C.png":64,"./5D.png":65,"./5H.png":66,"./5S.png":67,"./6C.png":68,"./6D.png":69,"./6H.png":70,"./6S.png":71,"./7C.png":72,"./7D.png":73,"./7H.png":74,"./7S.png":75,"./8C.png":76,"./8D.png":77,"./8H.png":78,"./8S.png":79,"./9C.png":80,"./9D.png":81,"./9H.png":82,"./9S.png":83,"./AC.png":84,"./AD.png":85,"./AH.png":86,"./AS.png":87,"./BACKY.png":88,"./BLANK.png":89,"./JC.png":90,"./JD.png":91,"./JH.png":92,"./JS.png":93,"./KC.png":94,"./KD.png":95,"./KH.png":96,"./KS.png":97,"./QC.png":98,"./QD.png":99,"./QH.png":100,"./QS.png":101};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=16},,,,,function(e,t,a){e.exports={card:"card_card__3Qqba",cardImage:"card_cardImage__3ITzc"}},function(e,t,a){e.exports={blankCard:"blank-card_blankCard__31AEU",cardImage:"blank-card_cardImage__R91uS"}},function(e,t,a){e.exports={backCard:"back-card_backCard__35eam",cardImage:"back-card_cardImage__38ihO"}},,,,,,function(e,t,a){e.exports={cardHolder:"card-holder_cardHolder__SJrDw"}},,,,,,,,,function(e,t,a){e.exports=a(104)},,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/10C.19635027.png"},function(e,t,a){e.exports=a.p+"static/media/10D.39ef422e.png"},function(e,t,a){e.exports=a.p+"static/media/10H.60ab387c.png"},function(e,t,a){e.exports=a.p+"static/media/10S.b208cd7f.png"},function(e,t,a){e.exports=a.p+"static/media/2C.136dab43.png"},function(e,t,a){e.exports=a.p+"static/media/2D.1451de5d.png"},function(e,t,a){e.exports=a.p+"static/media/2H.ebe43495.png"},function(e,t,a){e.exports=a.p+"static/media/2S.33c964ae.png"},function(e,t,a){e.exports=a.p+"static/media/3C.6ed5bf64.png"},function(e,t,a){e.exports=a.p+"static/media/3D.690d5a47.png"},function(e,t,a){e.exports=a.p+"static/media/3H.7278d51d.png"},function(e,t,a){e.exports=a.p+"static/media/3S.9638bf9f.png"},function(e,t,a){e.exports=a.p+"static/media/4C.23c51e0b.png"},function(e,t,a){e.exports=a.p+"static/media/4D.89eaac32.png"},function(e,t,a){e.exports=a.p+"static/media/4H.6695f1d5.png"},function(e,t,a){e.exports=a.p+"static/media/4S.5156259e.png"},function(e,t,a){e.exports=a.p+"static/media/5C.3ac88edd.png"},function(e,t,a){e.exports=a.p+"static/media/5D.24fd440c.png"},function(e,t,a){e.exports=a.p+"static/media/5H.5457f189.png"},function(e,t,a){e.exports=a.p+"static/media/5S.5ab3d862.png"},function(e,t,a){e.exports=a.p+"static/media/6C.5c96f40f.png"},function(e,t,a){e.exports=a.p+"static/media/6D.ff1c6299.png"},function(e,t,a){e.exports=a.p+"static/media/6H.84564e31.png"},function(e,t,a){e.exports=a.p+"static/media/6S.c99b0f04.png"},function(e,t,a){e.exports=a.p+"static/media/7C.4808cc41.png"},function(e,t,a){e.exports=a.p+"static/media/7D.58d872f0.png"},function(e,t,a){e.exports=a.p+"static/media/7H.c8475b53.png"},function(e,t,a){e.exports=a.p+"static/media/7S.82d62864.png"},function(e,t,a){e.exports=a.p+"static/media/8C.a46a54d9.png"},function(e,t,a){e.exports=a.p+"static/media/8D.fcafeaf2.png"},function(e,t,a){e.exports=a.p+"static/media/8H.1e9e59b0.png"},function(e,t,a){e.exports=a.p+"static/media/8S.497eed1e.png"},function(e,t,a){e.exports=a.p+"static/media/9C.4f8d0d8f.png"},function(e,t,a){e.exports=a.p+"static/media/9D.1d495bb1.png"},function(e,t,a){e.exports=a.p+"static/media/9H.33ab7891.png"},function(e,t,a){e.exports=a.p+"static/media/9S.50caac18.png"},function(e,t,a){e.exports=a.p+"static/media/AC.17ca9f77.png"},function(e,t,a){e.exports=a.p+"static/media/AD.f37d608f.png"},function(e,t,a){e.exports=a.p+"static/media/AH.a762540d.png"},function(e,t,a){e.exports=a.p+"static/media/AS.e6a6d2f8.png"},function(e,t,a){e.exports=a.p+"static/media/BACKY.6a080e7f.png"},function(e,t,a){e.exports=a.p+"static/media/BLANK.4f4567eb.png"},function(e,t,a){e.exports=a.p+"static/media/JC.1595a3ea.png"},function(e,t,a){e.exports=a.p+"static/media/JD.d5682eb4.png"},function(e,t,a){e.exports=a.p+"static/media/JH.fdf4ffc4.png"},function(e,t,a){e.exports=a.p+"static/media/JS.89d2c97e.png"},function(e,t,a){e.exports=a.p+"static/media/KC.aa73cfd0.png"},function(e,t,a){e.exports=a.p+"static/media/KD.6b5b30c0.png"},function(e,t,a){e.exports=a.p+"static/media/KH.3b48ae82.png"},function(e,t,a){e.exports=a.p+"static/media/KS.e8d1a4cf.png"},function(e,t,a){e.exports=a.p+"static/media/QC.d6296277.png"},function(e,t,a){e.exports=a.p+"static/media/QD.6940967d.png"},function(e,t,a){e.exports=a.p+"static/media/QH.63afa62b.png"},function(e,t,a){e.exports=a.p+"static/media/QS.9026849b.png"},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(7),c=a.n(n),r=a(0),o=a.n(r),s=a(6),i=a(27),d=a(10),p=a(107),l=a(111),u=a(108),m=a(106),g=a(109),f=a(110),S=a(35),E=a(24),b=a(21),h=a.n(b),y=a(16),C=function(e){var t=e.id,a=e.card,n=e.active,c=e.pickup,r={borderRadius:"5%",boxShadow:n?"0px 0px 3px 3px #C88":"none"},s=function(){return a.number.toString().toUpperCase()+a.suit.toUpperCase()+".png"};return o.a.createElement("div",{className:h.a.card+" flex-grow-1",style:r,onClick:function(){return c(t)}},o.a.createElement("img",{className:h.a.cardImage,src:y("./".concat(s())),alt:s()}))},x=a(22),D=a.n(x),O=a(16),_=function(){return o.a.createElement("div",{className:D.a.blankCard+" flex-grow-1"},o.a.createElement("img",{className:D.a.cardImage,src:O("./".concat("BLANK.png")),alt:"BLANK.png"}))},v=a(23),A=a.n(v),k=a(16),R=function(){return o.a.createElement("div",{className:A.a.backCard+" flex-grow-1"},o.a.createElement("img",{className:A.a.cardImage,src:k("./".concat("BACKY.png")),alt:"BACKY.png"}))},I=a(29),H=a.n(I),j=Object(d.b)((function(e){return{holdersState:e.score.holdersState,firstId:e.score.firstSelectedId,secondId:e.score.secondSelectedId}}),(function(e){return{resetPickup:function(){return e({type:"RESET_PICKUP_CARD"})},pickupFirst:function(t){return e(function(e){return{type:"PICKUP_FIRST_CARD",payload:e}}(t))},pickupSecond:function(t){return e(function(e){return{type:"PICKUP_SECOND_CARD",payload:e}}(t))},removeFirst:function(t){return e(function(e){return{type:"REMOVE_FIRST_CARD",payload:e}}(t))},removeSecond:function(t){return e(function(e){return{type:"REMOVE_SECOND_CARD",payload:e}}(t))},changeCenterState:function(){return e({type:"OPEN_CENTER_CARD"})},checkOver:function(){return e({type:"CHECK_GAME_OVER"})}}}))((function(e){var t=e.id,a=e.holdersState,n=e.firstId,c=e.secondId,s=e.resetPickup,i=e.pickupFirst,d=e.pickupSecond,p=e.removeFirst,l=e.removeSecond,u=e.changeCenterState,g=e.checkOver,f=a[t].cardsData.length,b=f>0?a[t].cardsData[f-1]:null,h=t===n||t===c,y=Object(r.useState)(!0),x=Object(S.a)(y,2),D=x[0],O=x[1];Object(r.useEffect)((function(){if(-1!==n&&-1!==c&&c===t){var e=a[n].cardsData[a[n].cardsData.length-1],r=a[c].cardsData[a[c].cardsData.length-1];if(e.number!==r.number)return void s();setTimeout((function(){p(n),l(c),u(),g()}),300)}}),[n,c]),Object(r.useEffect)((function(){O(!1)}),[b]);return o.a.createElement(E.a,{in:D,timeout:3e3,onExited:function(){return O(!0)}},o.a.createElement(m.a,{className:H.a.cardHolder+"d-flex px-md-4 px-2 mb-1"},!0===a[t].enable&&f>0&&o.a.createElement(C,{card:b,active:h,id:t,pickup:function(e){-1!==n?d(e):i(e)}}),!1===a[t].enable&&f>0&&o.a.createElement(R,null),0===f&&o.a.createElement(_,null)))}));function N(e){var t,a;switch(Math.floor((e-1)/13)){case 0:t="h";break;case 1:t="s";break;case 2:t="d";break;case 3:t="c";break;default:t=""}return{suit:t,number:1===(a=(e-1)%13+1)?"a":11===a?"j":12===a?"q":13===a?"k":a}}function w(e,t,a){var n=e[t];e[t]=e[a],e[a]=n}function K(e){var t,a;for(a=0,t=0;t<e.length;t++)0===e[t].cardsData.length&&a++;if(a===e.length)return!0;for(t=0;t<e.length;t++)if(0!==e[t].cardsData.length&&!1!==e[t].enable)for(a=t+1;a<e.length;a++)if(0!==e[a].cardsData.length&&!1!==e[a].enable&&e[t].cardsData[e[t].cardsData.length-1].number===e[a].cardsData[e[a].cardsData.length-1].number)return console.log("[same card]",t,e[t].cardsData[e[t].cardsData.length-1],a,e[a].cardsData[e[a].cardsData.length-1]),!1;return!0}function T(){var e,t,a,n=new Array(16),c=[];for(e=0;e<52;e++)c[e]=e+1;for(e=0;e<52;e++)w(c,t=Math.floor(52*Math.random()),Math.floor(52*Math.random()));for(t=0,a=0;a<15;a++){var r=new Array(3);for(e=0;e<3;e++)r[e]=N(c[t++]);n[a]=r}var o=new Array(7);for(e=0;t<52;)o[e++]=N(c[t++]);return n[15]=o,n}a(102);var P=Object(d.b)((function(e){return{score:e.score.score,holdersState:e.score.holdersState,gameOver:e.score.gameOver,scoreHistory:e.score.scoreHistory}}),(function(e){return{resetAllCardsStatus:function(t){return e({type:"RESET_CARDS_STATUS",payload:t})},appendScore:function(t){return e({type:"APPEND_SCORE_HISTORY",payload:t})},clearScore:function(){return e({type:"CLEAR_SCORE_HISTORY"})}}}))((function(e){var t=e.holdersState,a=e.score,n=e.gameOver,c=e.scoreHistory,d=e.resetAllCardsStatus,S=e.appendScore,E=e.clearScore;Object(r.useEffect)((function(){d(T()),console.log("[App] loading scores.");var e=JSON.parse(window.localStorage.getItem("60kSCOREchReactv1"));if(null!==e){var t,a=Object(i.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;console.log("[App] loading score.",n),S(n)}}catch(c){a.e(c)}finally{a.f()}}}),[]),Object(r.useEffect)((function(){if(!0===n){console.log("[App] saving score.");var e={date:new Date,score:a};S(e),window.localStorage.setItem("60kSCOREchReactv1",JSON.stringify([].concat(Object(s.a)(c),[e])))}}),[n]);return o.a.createElement(p.a,null,n&&o.a.createElement(l.a,{variant:"danger",className:"mt-2"},"Game over!"),o.a.createElement(u.a,null,o.a.createElement(m.a,{sm:"12",md:"10",lg:"10"},o.a.createElement(g.a,{className:"mt-3"},o.a.createElement("div",{className:"d-flex justify-content-between align-items-center border-bottom border-primary mb-2"},o.a.createElement("h1",{className:"text-primary"},"60K Points"),o.a.createElement("div",null,o.a.createElement(f.a,{variant:"warning",className:"mr-2",onClick:function(){!0===window.confirm("Are you sure to clear history?")&&(console.log("[App] clear history."),window.localStorage.setItem("60kSCOREchReactv1",JSON.stringify([])),E())}},"Reset score"),o.a.createElement(f.a,{variant:"danger",onClick:function(){!0===window.confirm("Are you sure to restart this game?")&&d(T())}},"New game"))),o.a.createElement(u.a,null,o.a.createElement(m.a,{xs:"10"},o.a.createElement("p",{className:"lead my-0 text-muted"},"This is a card game by React"),o.a.createElement("p",{className:"lead my-0 text-muted"},"Please select a pair of cards with same number. Then it will disappear."),o.a.createElement("p",{className:"lead my-0 text-muted"},"It will be over if you can not find a pair of cards any more.")),o.a.createElement(m.a,{xs:"2"},o.a.createElement("h1",{className:"text-danger"},a))),t.length>0&&o.a.createElement("div",null,o.a.createElement(u.a,null,o.a.createElement(j,{id:0,key:0}),o.a.createElement(j,{id:1,key:1}),o.a.createElement(j,{id:2,key:2}),o.a.createElement(j,{id:3,key:3}),o.a.createElement(j,{id:4,key:4})),o.a.createElement(u.a,null,o.a.createElement(j,{id:10,key:10}),o.a.createElement(j,{id:11,key:11}),o.a.createElement(j,{id:12,key:12}),o.a.createElement(j,{id:13,key:13}),o.a.createElement(j,{id:14,key:14})),o.a.createElement(u.a,null,o.a.createElement(j,{id:5,key:5}),o.a.createElement(j,{id:6,key:6}),o.a.createElement(j,{id:7,key:7}),o.a.createElement(j,{id:8,key:8}),o.a.createElement(j,{id:9,key:9})),o.a.createElement(u.a,null,o.a.createElement(m.a,null),o.a.createElement(m.a,null),o.a.createElement(j,{id:15,key:15}),o.a.createElement(m.a,null),o.a.createElement(m.a,null))))),o.a.createElement(m.a,{sm:"12",md:"2",lg:"2",className:"mt-3"},o.a.createElement("h4",{className:"text-primary"},"High Scores"),c.sort((function(e,t){return t.score-e.score})).map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("h3",null,e.score),o.a.createElement("p",null,new Date(e.date).toDateString()))})))))})),J=a(8),M=a(31),U=a(32),B=a(5),F={enable:!1,cardsData:[]},Q={score:0,gameOver:!1,holdersState:[],firstSelectedId:-1,secondSelectedId:-1,scoreHistory:[]};var Y=Object(J.combineReducers)({score:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,n=arguments.length>1?arguments[1]:void 0,c=[];switch(n.type){case"RESET_CARDS_STATUS":console.log("[Action] Reset game status.");var r,o,i=[];for(o=0;o<16;o++)r={},Object.assign(r,F),r.cardsData=n.payload[o],(o<10||o>14)&&(r.enable=!0),i.push(r);return Object(B.a)({},a,{score:0,gameOver:!1,firstSelectedId:-1,secondSelectedId:-1,holdersState:i});case"RESET_PICKUP_CARD":return console.log("[Action] reset pickup state."),Object(B.a)({},a,{firstSelectedId:-1,secondSelectedId:-1});case"PICKUP_FIRST_CARD":return console.log("[Action] pickup first."),Object(B.a)({},a,{firstSelectedId:n.payload});case"PICKUP_SECOND_CARD":return a.firstSelectedId===n.payload?a:(console.log("[Action] pickup second."),Object(B.a)({},a,{secondSelectedId:n.payload}));case"REMOVE_FIRST_CARD":return c=[],Object.assign(c,a.holdersState[n.payload].cardsData),e=c.pop(),console.log("[Action] removed first.",e),t=a.score,0===c.length&&(n.payload>9&n.payload<15?t+=1e4:15!==n.payload&&(t+=1e3)),Object(B.a)({},a,{score:t,firstSelectedId:-1,holdersState:[].concat(Object(s.a)(a.holdersState.slice(0,n.payload)),[Object(B.a)({},a.holdersState[n.payload],{cardsData:c})],Object(s.a)(a.holdersState.slice(n.payload+1,a.holdersState.length)))});case"REMOVE_SECOND_CARD":return c=[],Object.assign(c,a.holdersState[n.payload].cardsData),e=c.pop(),console.log("[Action] removed second.",e),t=a.score,0===c.length&&(n.payload>9&n.payload<15?t+=1e4:15!==n.payload&&(t+=1e3)),Object(B.a)({},a,{score:t,secondSelectedId:-1,holdersState:[].concat(Object(s.a)(a.holdersState.slice(0,n.payload)),[Object(B.a)({},a.holdersState[n.payload],{cardsData:c})],Object(s.a)(a.holdersState.slice(n.payload+1,a.holdersState.length)))});case"OPEN_CENTER_CARD":for(var d=0;d<5;d++)if(0===a.holdersState[d].cardsData.length&&0===a.holdersState[d+5].cardsData.length&&!1===a.holdersState[d+10].enable)return console.log("[Action] open center card.",a.holdersState[d+10].cardsData[a.holdersState[d+10].cardsData.length-1]),Object(B.a)({},a,{holdersState:[].concat(Object(s.a)(a.holdersState.slice(0,d+10)),[Object(B.a)({},a.holdersState[d+10],{enable:!0})],Object(s.a)(a.holdersState.slice(d+11,a.holdersState.length)))});return a;case"CHECK_GAME_OVER":return K(a.holdersState)?(console.log("[Action] GAME OVER!"),Object(B.a)({},a,{gameOver:!0})):a;case"APPEND_SCORE_HISTORY":return Object(B.a)({},a,{scoreHistory:[].concat(Object(s.a)(a.scoreHistory),[n.payload])});case"CLEAR_SCORE_HISTORY":return Object(B.a)({},a,{scoreHistory:[]});default:return a}}}),L=(a(103),Object(J.createStore)(Y,Object(U.composeWithDevTools)(Object(J.applyMiddleware)(M.a))));c.a.render(o.a.createElement(d.a,{store:L},o.a.createElement(P,null)),document.getElementById("root"))}],[[38,1,2]]]);
//# sourceMappingURL=main.a498bf8c.chunk.js.map